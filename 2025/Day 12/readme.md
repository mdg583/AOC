# Day 12

I had seen that this could likely be solved just by looking for regions with enough space to fill 3x3 tiles for each gift. But for fun I wanted to try a stochastic solution.

I decided to count overlapping tiles by treating each gift shape as an bitmap, and check overlapping tiles using overlapping bits. This needed a way to shift, flip and rotate the bits.

For the random motion, my idea was something like the MCMC algorithm. Propose a random movement, then if the new overlap is less or equal to current overlap, make the move. Otherwise, make the move with a probability that is less when the movement indroduces more overlap.

A 'caution' variable makes movements towards more overlap less and less likely as time goes on. The simulator decides that a simulation fails if it still has too much overlap after a time cutoff.

Terminal input `tty_init` was for testing and the functions were generated by chatgpt.

It took a long time, but it did in the end give the right solution.

<img width="182" height="302" alt="gifts" src="https://github.com/user-attachments/assets/b2e2bb18-d09c-4f1a-938d-018023620537" />

